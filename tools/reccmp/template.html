<!DOCTYPE html>
<html>
  <head>
    <title>Decompilation Status</title>
    <style>
      body {
        background: #202020;
        color: #f0f0f0;
        font-family: sans-serif;
      }

      h1 {
        text-align: center;
      }

      .main {
        width: 800px;
        max-width: 100%;
        margin: auto;
      }

      #search {
        width: 100%;
        box-sizing: border-box;
        background: #303030;
        color: #f0f0f0;
        border: 1px #f0f0f0 solid;
        padding: 0.5em;
        border-radius: 0.5em;
      }

      #search::placeholder {
        color: #b0b0b0;
      }

      #listing {
        width: 100%;
        border-collapse: collapse;
        font-family: monospace;
      }

      func-row:hover {
        background: #404040 !important;
      }

      func-row:nth-child(odd of :not([hidden])), #listing > thead th {
        background: #282828;
      }

      func-row:nth-child(even of :not([hidden])) {
        background: #383838;
      }

      #listing > thead th {
        border: 1px #f0f0f0 solid;
        padding: 0.5em;
        word-break: break-all !important;
      }

      .diffneg {
        color: #FF8080;
      }

      .diffpos {
        color: #80FF80;
      }

      .diffslug {
        color: #8080FF;
      }

      .identical {
        font-style: italic;
        text-align: center;
      }

      sort-indicator {
        margin: 0 0.5em;
      }

      .filters {
        align-items: top;
        display: flex;
        font-size: 10pt;
        justify-content: space-between;
        margin: 0.5em 0 1em 0;
      }

      .filters > fieldset {
        /* checkbox and radio buttons v-aligned with text */
        align-items: center;
        display: flex;
      }

      .filters > fieldset > label {
        margin-right: 10px;
      }

      table.diffTable {
        border-collapse: collapse;
      }

      table.diffTable:not(:last-child) {
        /* visual gap *between* diff context groups */
        margin-bottom: 40px;
      }

      table.diffTable td, table.diffTable th {
        border: 0 none;
        padding: 0 10px 0 0;
      }

      table.diffTable th {
        /* don't break address if asm line is long */
        word-break: keep-all;
      }

      diff-display[data-option="0"] th:nth-child(1) {
        display: none;
      }

      diff-display[data-option="0"] th:nth-child(2),
      diff-display[data-option="1"] th:nth-child(2) {
        display: none;
      }

      label {
        user-select: none;
      }
    </style>
    <script>var data = {{{data}}};</script>
    <script>{{{reccmp_js}}}</script>
    </script>
  </head>
  <body>
    <div class="main">
      <h1>Decompilation Status</h1>
      <listing-table>
        <input id="search" type="search" placeholder="Search for offset or function name...">
        <div class="filters">
          <fieldset>
            <legend>Options:</legend>
            <input type="checkbox" id="cbHidePerfect" />
            <label for="cbHidePerfect">Hide 100% match</label>
            <input type="checkbox" id="cbHideStub" />
            <label for="cbHideStub">Hide stubs</label>
          </fieldset>
          <fieldset>
            <legend>Search filters on:</legend>
            <input type="radio" name="filterType" id="filterName" value=1 checked />
            <label for="filterName">Name/address</label>
            <input type="radio" name="filterType" id="filterAsm" value=2 />
            <label for="filterAsm">Asm output</label>
            <input type="radio" name="filterType" id="filterDiff" value=3 />
            <label for="filterDiff">Asm diffs only</label>
          </fieldset>
        </div>
        <p>Results: <span id="rowcount"></span></p>
        <table id="listing">
          <thead>
            <tr>
              <th data-col="address" style="width: 20%">Address<sort-indicator/></th>
              <th data-col="name" style="width: 60%">Name<sort-indicator/></th>
              <th data-col="matching" style="width: 20%">Matching<sort-indicator/></th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </listing-table>
    </div>
    <template id="funcrow-template">
      <style>
        :host(:not([hidden])) {
          display: table-row;
          contain: paint;
        }

        ::slotted(*) {
          border: 1px #f0f0f0 solid;
          display: table-cell;
          padding: 0.5em;
          word-break: break-all !important;
        }
      </style>
      <slot name="address"></slot>
      <slot name="name"></slot>
      <slot name="matching"></slot>
    </template>
    <template id="diffrow-template">
      <style>
        :host(:not([hidden])) {
          display: table-row;
          contain: paint;
        }

        td.singleCell {
          border: 1px #f0f0f0 solid;
          display: table-cell;
          padding: 0.5em;
          word-break: break-all !important;
        }
      </style>
      <td class="singleCell" colspan="3">
        <slot></slot>
      </td>
    </template>
    <template id="nodiff-template">
      <style>
        ::slotted(*) {
          font-style: italic;
          text-align: center;
        }
      </style>
      <slot></slot>
    </template>
  </body>
</html>
